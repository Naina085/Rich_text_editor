<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Text Editor</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Oswald:wght@200;300;400;500;600;700&family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Quicksand:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&family=Pacifico&family=Lobster&family=Great+Vibes&family=Satisfy&family=Kaushan+Script&family=Caveat:wght@400;500;600;700&family=Indie+Flower&family=Amatic+SC:wght@400;700&family=Righteous&family=Bangers&family=Fredoka+One&family=Comfortaa:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Fira+Code:wght@300;400;500;600;700&family=Source+Code+Pro:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Inconsolata:wght@200;300;400;500;600;700;800;900&family=Audiowide&family=Electrolize&family=Syncopate:wght@400;700&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=PT+Serif:ital,wght@0,400;0,700;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Vollkorn:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&family=Bebas+Neue&family=Anton&family=Fjalla+One&family=Russo+One&family=Shadows+Into+Light&family=Permanent+Marker&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styledemo.css" type="text/css">
    <script src="script.js" defer></script>
    <script src="video_upload.js"></script>
    <script src="drag_video_image.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.379/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script><!-- <script>
  pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.379/pdf.worker.min.js';
</script>
 -->

</head>

<body>


    <div class="editor-container">
        <div id="blurOverlay" style="
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        backdrop-filter: blur(5px);
        background-color: #00000033;
        z-index: 99;
        display: none;
      "></div>

        <!-- Navbar -->
        <div class="navbar">
            <ul>

                <li class="file-navbar MainMenu">File
                    <ul class="file-menu">
                        <li onclick="createNewFile()">New file <i class="bi bi-file"></i></li>
                        <li onclick="openFile()">Open <i class="bi bi-folder2-open"></i></li>
                        <li onclick="saveAsTextFile()">Save <i class="bi bi-floppy"></i></li>
                        <li onclick="saveAs()">Save As <i class="bi bi-floppy2-fill"></i></li>
                    </ul>
                </li>

                <li class="file-navbar-2 MainMenu">Edit
                    <ul class="file-menu">
                        <li onclick="selectAllText()"><i class="bi bi-ui-checks"></i>Select all</li>
                        <li id="undoBtn" onclick="handleUndo()"><i class="bi bi-arrow-90deg-left">Undo</i></li>
                        <li id="redoBtn" onclick="handleRedo()"><i class="bi bi-arrow-90deg-right">Redo</i></li>
                        <li onclick="cutText()"><i class="bi bi-scissors">Cut</i></li>
                        <li onclick="copySelectedText()"><i class="bi bi-copy">Copy</i></li>
                        <li onclick="pasteText()"><i class="bi bi-clipboard2"></i>Paste</li>
                    </ul>
                </li>
                <li class="file-navbar-3 MainMenu">
                    Insert
                    <ul class="file-menu">
                        <li><button onclick="insertHorizontalLine()" style="border: none;width:100%;"
                                class="Horizontal">Horizontal
                                line <i class="bi bi-dash-lg"></i></button></li>

                        <li onclick="openPDF()">Pdf <i class="bi bi-filetype-pdf"></i></li>
                        <li onclick="uploadDocx()">Ms Word Docx <i class="bi bi-file-earmark-fill"></i></li>
                        <li onclick="document.getElementById('fileInput2').click()">Ppt <i
                                class="bi bi-filetype-pptx"></i>
                            <input type="file" id="fileInput2" accept=".pptx" style="display:none"
                                onchange="uploadPPT()">

                        </li>
                        <li onclick="uploadExcel() ">MS Excel <i class="bi bi-file-earmark-excel"></i></li>
                        <li onclick="document.getElementById('fileInput').click()">Image <i class="bi bi-images"></i>
                            <input type="file" id="fileInput" accept="image/*" style="display:none">
                        </li>
                        <li onclick="openVideoModal()">Video <i class="bi bi-play-btn"></i>

                        </li>
                    </ul>
                </li>
                <li class="file-navbar-4 MainMenu">View</li>
                <li class="file-navbar-5">Format
                    <ul class="file-menu">
                    <li id="boldBtn" onclick='toggleFormat("bold")' title="Bold">Bold <strong>B</strong></li>
                        <li id="italicBtn" onclick="toggleFormat('italic')" title="Italic">Italic <i>I</i></li>
                        <li id="underlineBtn" onclick="toggleFormat('underline')" title="Underline">Underline
                            <U>U</U>
                        </li>
                        <li>
                            <button onclick="applyFormat('sub')"
                                style="border:none;font-size:15px;text-align: center;padding-right: 28px;padding-top: 5px;width: 100%;">Subscript
                                <sub>SUB</sub></button>
                        </li>
                        <li><button onclick="applyFormat('sup')"
                                style="border:none;font-size:15px;text-align: center;padding-right: 15px;padding-top: 5px;width: 100%;padding-bottom: 4px;">Superscript
                                <sup>SUP</sup></button></li>
                        <li><button onclick="wrapWithAngleBrackets()"
                                style="border:none;font-size:15px;text-align: center;padding-right: 57px;padding-top: 5px;width: 100%;padding-bottom: 4px;">
                                Code <>
                            </button></li>
                        <li class="file-navbar-6">Heading
                            <ul class="sub-menu">
                                <li class="headingbtn"><button onclick="headingElement('h1')"
                                        style="border:none;background-color: #f0f0f0;width: 100%;">
                                        <h1>H1</h1>

                                    </button>
                                </li>
                                <li class="headingbtn">
                                    <button onclick="headingElement('h2')"
                                        style="border:none;background-color: #f0f0f0;width: 100%;">
                                        <H2>H2</H2>
                                    </button>
                                </li>
                                <li class="headingbtn">
                                    <button onclick="headingElement('h3')"
                                        style="border:none;background-color: #f0f0f0;width: 100%;">
                                        <h3>H3</h3>
                                    </button>
                                </li>
                                <li class="headingbtn">
                                    <button onclick="headingElement('h4')"
                                        style="border:none;background-color: #f0f0f0;width: 100%;">
                                        <h4>H4</h4>
                                    </button>
                                </li>
                                <li class="headingbtn">
                                    <button onclick="headingElement('h5')"
                                        style="border:none;background-color: #f0f0f0;width: 100%;">
                                        <h5>H5</h5>
                                    </button>
                                </li>
                                <li class="headingbtn">
                                    <button onclick="headingElement('h6')"
                                        style="border:none;background-color: #f0f0f0;width: 100%;">
                                        <h6>H6</h6>
                                    </button>
                                </li>
                            </ul>
                        </li>

                    </ul>
                </li>
                <li id="tableBtn" style=" cursor: pointer;">Table
                    <div id="tableGrid" style="
        position: absolute;
        top: 20px;
        height: 150px;
        overflow: auto;
        background: #fff;
        border: 1px solid #ccc;
        padding: 5px;
        z-index: 10;
        display: none;
    ">
                    </div>



                </li>

        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <!-- Left Section -->
            <div class="toolbar-left font-toolbar">
                <!-- Undo/Redo -->
                <button class="toolbar-btn" id="undoBtn" onclick="handleUndo()" title="Undo"
                    style="border-right: 1px solid #e5e7eb;">
                    <i class="bi bi-arrow-90deg-left"></i>
                </button>
                <button class="toolbar-btn" id="redoBtn" onclick="handleRedo()" title="Redo"
                    style="border-right: 1px solid #e5e7eb;">
                    <i class="bi bi-arrow-90deg-right"></i>
                </button>

                <!-- Font Controls -->
                <select class="font-family-select" id="fontFamily" onchange="handleFontFamilyChange()">
                    <optgroup label="System Fonts">
                        <option value="Arial">Arial</option>
                        <option value="Helvetica">Helvetica</option>
                        <option value="Times New Roman">Times New Roman</option>
                        <option value="Times">Times</option>
                        <option value="Courier New">Courier New</option>
                        <option value="Courier">Courier</option>
                        <option value="Verdana">Verdana</option>
                        <option value="Georgia">Georgia</option>
                        <option value="Palatino">Palatino</option>
                        <option value="Garamond">Garamond</option>
                        <option value="Bookman">Bookman</option>
                        <option value="Comic Sans MS">Comic Sans MS</option>
                        <option value="Trebuchet MS">Trebuchet MS</option>
                        <option value="Arial Black">Arial Black</option>
                        <option value="Impact">Impact</option>
                    </optgroup>

                    <optgroup label="Sans-Serif">
                        <option value="Roboto">Roboto</option>
                        <option value="Open Sans">Open Sans</option>
                        <option value="Lato">Lato</option>
                        <option value="Montserrat">Montserrat</option>
                        <option value="Source Sans Pro">Source Sans Pro</option>
                        <option value="Ubuntu">Ubuntu</option>
                        <option value="Nunito">Nunito</option>
                        <option value="Raleway">Raleway</option>
                        <option value="Poppins">Poppins</option>
                        <option value="Inter">Inter</option>
                        <option value="PT Sans">PT Sans</option>
                        <option value="Fira Sans">Fira Sans</option>
                        <option value="Work Sans">Work Sans</option>
                        <option value="Quicksand">Quicksand</option>
                        <option value="Comfortaa">Comfortaa</option>
                    </optgroup>

                    <optgroup label="Serif">
                        <option value="Playfair Display">Playfair Display</option>
                        <option value="Merriweather">Merriweather</option>
                        <option value="Crimson Text">Crimson Text</option>
                        <option value="Libre Baskerville">Libre Baskerville</option>
                        <option value="Lora">Lora</option>
                        <option value="PT Serif">PT Serif</option>
                        <option value="Cormorant Garamond">Cormorant Garamond</option>
                        <option value="Vollkorn">Vollkorn</option>
                    </optgroup>

                    <optgroup label="Display">
                        <option value="Oswald">Oswald</option>
                        <option value="Righteous">Righteous</option>
                        <option value="Bangers">Bangers</option>
                        <option value="Fredoka One">Fredoka One</option>
                        <option value="Bebas Neue">Bebas Neue</option>
                        <option value="Anton">Anton</option>
                        <option value="Fjalla One">Fjalla One</option>
                        <option value="Russo One">Russo One</option>
                    </optgroup>

                    <optgroup label="Script & Handwriting">
                        <option value="Dancing Script">Dancing Script</option>
                        <option value="Pacifico">Pacifico</option>
                        <option value="Lobster">Lobster</option>
                        <option value="Great Vibes">Great Vibes</option>
                        <option value="Satisfy">Satisfy</option>
                        <option value="Kaushan Script">Kaushan Script</option>
                        <option value="Caveat">Caveat</option>
                        <option value="Indie Flower">Indie Flower</option>
                        <option value="Amatic SC">Amatic SC</option>
                        <option value="Shadows Into Light">Shadows Into Light</option>
                        <option value="Permanent Marker">Permanent Marker</option>
                    </optgroup>

                    <optgroup label="Monospace">
                        <option value="Space Mono">Space Mono</option>
                        <option value="JetBrains Mono">JetBrains Mono</option>
                        <option value="Fira Code">Fira Code</option>
                        <option value="Source Code Pro">Source Code Pro</option>
                        <option value="Roboto Mono">Roboto Mono</option>
                        <option value="Ubuntu Mono">Ubuntu Mono</option>
                        <option value="Inconsolata">Inconsolata</option>
                    </optgroup>

                    <optgroup label="Futuristic">
                        <option value="Orbitron">Orbitron</option>
                        <option value="Exo 2">Exo 2</option>
                        <option value="Audiowide">Audiowide</option>
                        <option value="Electrolize">Electrolize</option>
                        <option value="Syncopate">Syncopate</option>
                    </optgroup>
                </select>

                <select class="font-size-select" id="fontSize" onchange="handleFontSizeChange()">
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="14" selected>14</option>
                    <option value="16">16</option>
                    <option value="18">18</option>
                    <option value="20">20</option>
                    <option value="22">22</option>
                    <option value="24">24</option>
                    <option value="26">26</option>
                    <option value="28">28</option>
                    <option value="32">32</option>
                    <option value="36">36</option>
                    <option value="48">48</option>
                    <option value="72">72</option>
                </select>

                <!-- Color Controls -->
                <div class="color-picker-palette" id="textPickerContainer"
                    style="border-right: 1px solid #e5e7eb;height:36px;width:40px;text-align:center;padding-top:5px;">
                    <button id="textColorBtn" style="border: none;background-color: white;"> <i class="bi bi-fonts"
                            id="textColorIcon" style="color: #000000;"></i></button>
                    <div class="color-picker-dropdown" id="textColorPicker" style="margin-top: 10px;"></div>
                </div>

                <div class="color-picker-palette" id="backgroundPickerContainer"
                    style="border-right: 1px solid #e5e7eb;height:36px;width:40px;text-align:center;padding-top:5px;">
                    <button id="backgroundColorBtn" style="border: none;background-color: white;"><i
                            class="bi bi-paint-bucket"></i></button>
                    <div class="color-picker-dropdown" id="backgroundColorPicker" style="margin-top: 10px;"></div>
                </div>
                <div class="Hide-show"
                    style="border-right: 1px solid #e5e7eb; height:36px;width:40px;text-align:center;padding-top:5px;">
                    <button id="moreToggleBtn" class="more-btn" style="border: none;background-color: white;"
                        onclick="toggleMoreOptions()">▼</button>

                </div>
                <!-- tablet reponsive -->
                <div class="more-option hideInMobile"
                    style="border-right: 1px solid #e5e7eb;height:36px;width:40px;text-align:center;padding-top:5px;">
                    <button onclick="insertSpacing()"
                        style="border: none;margin-right: 10px;margin-left: 10px;background-color: white;"><i
                            class="bi bi-indent" style="font-size: 15px;"></i></button>
                </div>
                <!-- <div class="ollist"
                    style="border-right: 1px solid #e5e7eb;height:36px;width:40px;text-align:center;padding-top:5px;display:flex;">
                    <button style="border: none;margin-right: 10px;margin-left: 10px;" id="olBtn"
                        onclick="setTimeout(() => toggleList('ol'), 0)"><i class="bi bi-list-ol"
                            style="font-size: 15px;"></i></button>
                </div>
                <div class="ullist"
                    style="height:36px;width:40px;text-align:center;padding-top:5px;display:flex;">
                    <button style="border: none;margin-right: 10px;margin-left: 10px;" id="ulButton"
                        onclick="setTimeout(() => toggleList('ul'), 0)"><i class="bi bi-list-ul"
                            style="font-size: 15px;"></i></button>
                </div> -->
                <!-- extra -->
                <div class="ollist hideInMobile"
                    style="border-right: 1px solid #e5e7eb;height:36px;width:40px;text-align:center;display:block;padding-right: 6px;">
                    <button class="more-option"
                        style="position: relative;left: -4px;border-right: 1px solid #e5e7eb;border: none;border-right: 1px solid #e5e7eb;height:36px;width:40px;background-color: white;text-align:center;border-radius: 6px;border: none;"
                        id="olBtn" onclick="setTimeout(() => toggleList('ol'), 0)"><i class="bi bi-list-ol"
                            style="font-size: 15px;"></i></button>
                    <!-- Tooltip on hover -->
                    <div id="listTooltip">
                        How to use nested list(Hover the Info Button)
                    </div>
                </div>
                <div class="ullist hideInMobile"
                    style="height:36px;width:40px;text-align:center;display:flex;padding-right: 6px; border-right: 1px solid #e5e7eb;">

                    <button class="more-option"
                        style="position: relative;left: -4px;;border: none;height:36px;width:40px;text-align:center;border-radius: 6px;border:none;background-color: white;"
                        id="ulButton" onclick="setTimeout(() => toggleList('ul'), 0)"><i class="bi bi-list-ul"
                            style="font-size: 15px;"></i></button>
                    <!-- Tooltip on hover -->
                    <!-- <div id="listTooltip"
                    style="top: -28px; left: 0; background: #111; color: #fff; padding: 4px 8px; border-radius: 4px; font-size: 12px; display: none;">
                    How to use nested list(Hover the Info Button)2
                </div> -->

                </div>
                <!-- ℹ️ Info Button -->
                <div class="info-container hideInMobile" style="position: relative; display: inline-block;">
                    <!-- ℹ️ Info Button -->
                    <button id="listInfoBtn"
                        style="border: none;background-color: white !important; height: 36px; width: 30px; text-align: center; border-radius: 20px; background-color: #f3f4f6;">ℹ️</button>

                    <div style="display: block; position: relative;">
                        <!-- Instruction box on click -->
                        <div id="listInstructions">
                            <strong>📝 Nested List Guide</strong><br><br>
                            • <kbd>Tab</kbd> → Indent / Nest list<br>
                            • <kbd>Shift</kbd> + <kbd>Tab</kbd> → Outdent<br>
                            • <kbd>Backspace</kbd> → Remove empty item
                        </div>
                    </div>

                </div>





            </div>
            <div id="successAlert" style="
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            z-index: 9999;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            ">
                ✅ Successfully updated
            </div>

            <!-- Toolbar Container -->
            <div class="toolbar-right" style="display: flex; align-items: center; flex-wrap: wrap; position: relative;">

                <!-- MORE / LESS BUTTON -->

                <!-- Mobile Spacing -->
                <div class="mobileView more-option right-more-option" style="margin: 5px;">
                    <button onclick="insertSpacing()" class="toolbar-btn"
                        style="border: none; background-color: white;"><i class="bi bi-indent"
                            style="font-size: 15px;"></i></button>
                </div>

                <!-- Ordered List -->
                <div class="ollist more-option mobileView right-more-option" style="margin: 5px;">
                    <button id="olBtn" class="toolbar-btn" onclick="setTimeout(() => toggleList('ol'), 0)"
                        style="border: none; background-color: white;"><i class="bi bi-list-ol"
                            style="font-size: 15px;"></i></button>
                </div>

                <!-- Unordered List -->
                <div class="ullist more-option mobileView right-more-option" style="margin: 5px;">
                    <button id="ulButton" class="toolbar-btn" onclick="setTimeout(() => toggleList('ul'), 0)"
                        style="border: none; background-color: white;"><i class="bi bi-list-ul"
                            style="font-size: 15px;"></i></button>
                </div>

                <!-- Info Button -->
                <div class="info-container more-option mobileView right-more-option" style="margin: 5px;">
                    <button id="listInfoBtn" class="toolbar-btn"
                        style="border: none; background-color: #f3f4f6; height: 36px; width: 30px; text-align: center; border-radius: 20px;">ℹ️</button>
                </div>
                <!-- Example Formatting Options -->
                <button class="toolbar-btn more-option right-more-option" id="boldBtn" onclick="toggleFormat('bold')"
                    title="Bold">
                    <strong>B</strong>
                </button>
                <button class="toolbar-btn more-option right-more-option" id="italicBtn"
                    onclick="toggleFormat('italic')" title="Italic">
                    <em>I</em>
                </button>
                <button class="toolbar-btn more-option right-more-option" id="underlineBtn"
                    onclick="toggleFormat('underline')" title="Underline">
                    <u>U</u>
                </button>
                <button class="toolbar-btn more-option right-more-option" id="alignLeftBtn"
                    onclick="setAlignment('left')" title="Align Left">
                    <i class="bi bi-text-left"></i>
                </button>
                <button class="toolbar-btn more-option right-more-option" id="alignCenterBtn"
                    onclick="setAlignment('center')" title="Align Center">
                    <i class="bi bi-text-center"></i>
                </button>
                <button class="toolbar-btn more-option right-more-option" id="alignRightBtn"
                    onclick="setAlignment('right')" title="Align Right">
                    <i class="bi bi-text-right"></i>
                </button>
                <button class="toolbar-btn more-option right-more-option" id="alignJustifyBtn"
                    onclick="setAlignment('justify')" title="Justify">
                    <i class="bi bi-justify"></i>
                </button>

                <!-- Add your other .more-option buttons here -->
            </div>

        </div>

        <!-- Text Area -->
        <!-- <div class="text-area-container">
            <textarea class="text-area" id="textArea" contenteditable="true" placeholder="Start typing here..."
                ></textarea>
        </div> -->
        <!-- Tabs for recently opened files -->
        <div id="fileTabs"></div>

        <!-- Content Editable Div -->
        <div class="text-area-container">
            <h3 id="currentFileName">No file opened</h3>
            <div class="text-area" id="textArea" contenteditable="true">Start typing here...</div>

            <!-- Status Bar -->
            <div class="status-bar">
                <span id="charCount">Characters: 0</span>
                <span id="wordCount" style="    margin-left: -670px;">Words: 0</span>
                <span class="submit-button">
                    <button onclick="submitText()" id="submitBtn">Submit</button>
                </span>
            </div>
        </div>
    </div>
    </div>
    <input type="file" id="fileInput" style="display: none;" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <!-- video uploading -->
    <div id="modalOverlay"
        style="display:none; position:fixed; top:0; left:0; height:100%; width:100%; background-color:rgba(0,0,0,0.5); z-index:998;">
    </div>
    <div id="videoModal"
        style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background-color:#ffffff; padding:32px; width:90%; max-width:480px; border-radius:16px; box-shadow:0 25px 50px -12px rgba(0,0,0,0.25); z-index:999;">
        <div class="modal-header" style="text-align:center; margin-bottom:24px;">
            <h3 style="font-size:20px; font-weight:600; color:#1f2937; margin-bottom:6px;">Insert/Edit Video</h3>
            <p style="font-size:14px; color:#6b7280;">Add a video from YouTube or a direct video file</p>
        </div>

        <div class="form-group" style="margin-bottom:16px;">
            <label for="videoSource"
                style="font-size:14px; font-weight:500; color:#374151; margin-bottom:6px; display:block;">Video
                URL</label>
            <input type="text" id="videoSource" placeholder="https://www.youtube.com/watch?v=... or direct MP4 URL"/>
        </div>

        <div class="form-row" style="display:flex; gap:16px;">
            <div class="form-group" style="flex:1;">
                <label for="videoWidth"
                    style="font-size:14px; font-weight:500; color:#374151; margin-bottom:6px; display:block;">Width</label>
                <input type="text" id="videoWidth" placeholder="560" value="560" />
            </div>
            <div class="form-group" style="flex:1;">
                <label for="videoHeight"
                    style="font-size:14px; font-weight:500; color:#374151; margin-bottom:6px; display:block;">Height</label>
                <input type="text" id="videoHeight" placeholder="315" value="315" />
            </div>
        </div>

        <div class="button-group" style="display:flex; justify-content:center; gap:12px; margin-top:24px;">
            <button class="btn btn-primary" onclick="insertVideo()"
                style="padding:12px 24px; border-radius:8px; font-size:14px; font-weight:500; cursor:pointer; border:none; background-color:#3b82f6; color:white;">Insert
                Video</button>
            <button class="btn btn-secondary" onclick="closeVideoModal()"
                style="padding:12px 24px; border-radius:8px; font-size:14px; font-weight:500; cursor:pointer; background-color:#f3f4f6; color:#374151; border:2px solid #e5e7eb;">Cancel</button>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const dropdownItems = document.querySelectorAll('.navbar > ul > li');
            const blurOverlay = document.getElementById('blurOverlay');

            dropdownItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.stopPropagation();

                    // Close all others
                    let isAnyOpen = false;
                    dropdownItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            const otherMenu = otherItem.querySelector('.file-menu, .sub-menu');
                            if (otherMenu) otherMenu.style.display = 'none';
                        }
                    });

                    if (window.innerWidth <= 768) {
                        const menu = item.querySelector('.file-menu, .sub-menu');
                        if (menu) {
                            const isOpen = menu.style.display === 'block';
                            menu.style.display = isOpen ? 'none' : 'block';
                            blurOverlay.style.display = isOpen ? 'none' : 'block'; // Show or hide blur
                        }
                    }
                });
            });

            // Click outside to close all menus and hide blur
            document.addEventListener('click', () => {
                dropdownItems.forEach(item => {
                    const menu = item.querySelector('.file-menu, .sub-menu');
                    if (menu) menu.style.display = 'none';
                });
                blurOverlay.style.display = 'none';
            });
        });
        function toggleMoreOptions() {
            const moreOptions = document.querySelectorAll('.right-more-option');
            const toggleBtn = document.getElementById('moreToggleBtn');
            const isHidden = moreOptions[0]?.style.display === 'none' || !moreOptions[0]?.style.display;

            moreOptions.forEach(el => {
                el.style.display = isHidden ? 'inline-flex' : 'none';
            });

            toggleBtn.innerText = isHidden ? ' ▲ ' : ' ▼ ';
        }

        // By default, hide all .right-more-option buttons initially
        // window.addEventListener('DOMContentLoaded', () => {
        //     const moreOptions = document.querySelectorAll('.right-more-option');
        //     moreOptions.forEach(el => el.style.display = 'none');
        // });
    </script>



</body>

</html>